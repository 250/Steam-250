<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>{{ block('title') }}</title>

    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lobster|Cousine:400i">
    <link rel="shortcut icon" href="favicon.png" type="image/png" />
<body>
<section id="header">
    <div class="title" data-title="{{ block('heading') }}">
        <h1>{{ block('heading') }}</h1>
    </div>
</section>

<div class="body">
<div class="page">
<ul class="links">
    <li><a href="/">Top 250</a>
        &ndash; <a href="hidden_gems.html">Hidden gems</a>
        &ndash; <a href="bottom100.html">Bottom 100</a>
    <li><a href="30day.html">30 day</a> &ndash; <a href="90day.html">90 day</a> &ndash; <a href="365day.html">365 day</a>
    <li><a href="mac250.html">Mac 250</a> &ndash; <a href="linux250.html">Linux 250</a>
</ul>
{{ block('lead') }}
<ins class="adsbygoogle" data-ad-client="ca-pub-8635817990241164" data-ad-slot="9535671996" data-ad-format="auto"
     style="display:block"></ins>
<table>
    <thead>
        <tr>
            <td>
            <td>Movement, rank, title, genre, date and platforms
            <td>Player rating
    <tbody>
{% for game in games %}
    <tr>
        <td>
            <a href="http://store.steampowered.com/app/{{ game.id }}/">
                {%- if loop.index <= 15 -%}
                <img src="http://cdn.akamai.steamstatic.com/steam/apps/{{ game.id }}/capsule_184x69.jpg"
                     width="{{ min(184, 184 - (184 - 120) / 13 * (loop.index - 3))|round }}"
                {%- else -%}
                <img src="http://cdn.akamai.steamstatic.com/steam/apps/{{ game.id }}/capsule_sm_120.jpg"
                     width="120" height="45"
                {%- endif %}
                alt="{{ game.name }} logo"
            ></a>
        </td>
        <td id="{{ game.rank }}">
            {% if game.movement is defined %}
            {{ include('partial/movement.twig', {movement: game.movement}) }}
            {% endif %}
            <span class="title" style="font-size: {{ min(200, max(100, 200 - 100 / 13 * (loop.index - 3))) }}%">
                {{ game.rank }}.
                <a href="http://store.steampowered.com/app/{{ game.id }}/">
                    {{- game.name -}}
                </a>
            </span>
            <a href="http://store.steampowered.com/tag/en/{{ game.tags|url_encode }}/" class="genre">
                {{- game.tags -}}
            </a>
            {% if game.release_date %}
            <span class="date">({{ game.release_date|date('M Y') }})</span>
            {% endif %}
            <span class="platforms">
            {%- if game.platforms b-and constant('ScriptFUSION\\Top250\\Shared\\Platform::WINDOWS') -%}
                <span title="Windows">Windows</span>
            {%- endif -%}
            {%- if game.platforms b-and constant('ScriptFUSION\\Top250\\Shared\\Platform::MAC') -%}
                <span title="Mac">Mac</span>
            {%- endif -%}
            {%- if game.platforms b-and constant('ScriptFUSION\\Top250\\Shared\\Platform::LINUX') -%}
                <span title="Linux">Linux</span>
            {%- endif -%}
            </span>
        </td>
        <td>
            <span class="score">{{ (game.score * 10)|number_format(1) }}</span>
            <span class="votes">
                ({{ (game.positive_reviews / game.total_reviews * 100)|round }}%
                {{ game.total_reviews }} votes)
            </span>
        </td>
    </tr>
{% endfor %}
</table>

<ins class="adsbygoogle" data-ad-client="ca-pub-8635817990241164" data-ad-slot="3002887382" data-ad-format="auto"
     style="display:block"></ins>

<div class="algo" title="Ranking algorithm">{{ toplist.algorithm }} {{ toplist.weight }}</div>

{% if risers is defined and fallers is defined and risers and fallers %}
<div class="r&f">
    {{ include('partial/risers.twig', {games: risers}) }}
    {{ include('partial/risers.twig', {games: fallers}) }}
</div>
{% endif %}
</div>
</div>

<section id="footer">
    <div>
        <h2>Steam Top 250</h2>
        <p>The lists are automatically generated at least once a day from live Steam reviews data.</p>
        {% if games[0].movement is defined %}
        <p>Movement indicators show the change in position since yesterday.</p>
        {% endif %}
    </div>

    <div>
        <h2>System status</h2>
        <ul>
            <li>Data <a href="https://travis-ci.org/250/Steam-importer">
                    <img src="https://travis-ci.org/250/Steam-importer.svg?branch=master"></a>
                Pages <a href="https://travis-ci.org/250/Steam-Top-250">
                    <img src="https://travis-ci.org/250/Steam-Top-250.svg?branch=master"></a>
            <li>Generated {{ 'now'|date }}
            <li><a href="https://github.com/250">Source code</a>,
                <a href="https://github.com/250/Steam-Top-250/issues">Issues</a>
            <li><a href="mailto:bilge@scriptfusion.com">Contact</a>
        </ul>
    </div>

    <div>
        <h2>External top lists</h2>
        <ul>
            <li><a href="http://store.steampowered.com/search/?sort_by=Reviews_DESC&amp;category1=998">
                    Official Steam top games list
                </a>
            <li><a href="https://steamdb.info/stats/gameratings/">SteamDB top rated games</a>
            <li><a href="https://steamspy.com/#tab-total">Steam Spy top games by playtime</a>
            <li><a href="http://www.imdb.com/chart/top">IMDb Top 250 movies</a>
        </ul>
    </div>
</section>

<div class="fixedlinks">
    <a href="#header">Top</a>
    <a href="#footer">Bottom</a>
</div>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-109307736-1"></script>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({}, {});

    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-109307736-1');
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.19.3/moment.min.js"></script>
<script src="js/250.js"></script>
