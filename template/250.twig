<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Steam Top 250 Games</title>

    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lobster">

<body>
<section class="header">
    <div class="title" data-title="Steam Top 250">
        <h1>Steam Top 250</h1>
    </div>
</section>

<div class="body">
<div class="page">
<p>
    Top 250 Steam games of all time according to the only source that matters: the players.<br>
    Because <em>overwhelmingly positive</em> means more than IGN 10/10.
</p>
<table>
    <thead>
        <tr>
            <td>
            <td>Rank, title, genre and date
            <td>Player rating
    <tbody>
{% for game in games %}
    <tr>
        <td>
            <a href="http://store.steampowered.com/app/{{ game.id }}/">
                {%- if loop.index <= 15 -%}
                <img src="http://cdn.akamai.steamstatic.com/steam/apps/{{ game.id }}/capsule_184x69.jpg"
                     width="{{ min(184, 184 - (184 - 120) / 13 * (loop.index - 3))|round }}"
                {%- else -%}
                <img src="http://cdn.akamai.steamstatic.com/steam/apps/{{ game.id }}/capsule_sm_120.jpg"
                     width="120" height="45"
                {%- endif %}
                alt="{{ game.app_name }} logo"
            ></a>
        </td>
        <td>
            <span class="title" style="font-size: {{ min(200, max(100, 200 - 100 / 13 * (loop.index - 3))) }}%">
                {{ loop.index }}.
                <a href="http://store.steampowered.com/app/{{ game.id }}/">
                    {{- game.app_name -}}
                </a>
            </span>
            <a href="http://store.steampowered.com/tag/en/{{ game.genre|url_encode }}/" class="genre">{{ game.genre }}</a>
            <span class="date">({{ game.release_date|date('M Y') }})</span>
        </td>
        <td>
            <span class="score">{{ (game.score * 10)|number_format(1) }}</span>
            <span class="votes">({{ game.total_reviews }} votes)</span>
        </td>
    </tr>
{% endfor %}
</table>
</div>
</div>

<section class="footer">
    <p>Generated on {{ 'now'|date }}.</p>
</section>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-109307736-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-109307736-1');
</script>
