{% extends 'reviews_full.twig' %}

{% set earliest_year = constant('ScriptFUSION\\Steam250\\SiteGenerator\\Ranking\\Impl\\AnnualRanking::EARLIEST_YEAR') %}
{% set year = ranking.year ?? earliest_year %}
{% set when = ranking.year ?? ('pre-' ~ year) %}
{% set desc = ranking.year is defined ? 'in ' ~ year : 'before ' ~ year %}

{% block title %}Top {{ games|length }} Most Reviewed Steam Games {{ desc }}{% endblock %}
{% block heading %}Most Reviewed {{ when }}{% endblock %}

{% block content %}
    {{ parent() }}

    <p class="tip">
        Compare with <a href="/{{ (ranking.year ?? 'old') ~ ext }}">top rated games {{ desc }}</a>.
    </p>

    {{ include('partial/timeline.twig') }}
{% endblock %}

{% block main_p %}
    Top {{ games|length }} most reviewed games on Steam released {{ desc }}.
{% endblock %}

{% block post %}
    {{ include('partial/timeline.twig') }}
{% endblock %}
