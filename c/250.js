(()=>{var e={351:()=>{class S250{constructor(){this.initMenuScrollbarTransitions(),this.constrainDropdownMenuPositions(),this.tryParseOpenIdPostback(),this.initLogInOut(),this.syncLogInOutState(),this.scrollToCurrentHash(),this.overrideHashChange(),this.overrideFixedLinks(),this.initSearchValue(),this.initAppLinkMenu(),this.initRankingHoverItems()}initLogInOut(){const e=document.querySelector("#lout form");e?(e["openid.return_to"].value=location.origin+location.pathname,document.querySelector("#lin button").addEventListener("click",(e=>this.logout()))):console.debug("Steam user area unavailable: skipped.")}initMenuScrollbarTransitions(){const e="t11g";document.querySelectorAll("ol.menu li").forEach((t=>{const n=t.querySelector("ol");n&&(t.addEventListener("mouseenter",(t=>0===n.clientHeight&&n.classList.add(e))),t.addEventListener("mouseleave",(t=>n.classList.add(e))))})),document.querySelectorAll("ol.menu > li ol").forEach((t=>{t.addEventListener("transitionend",(n=>t.classList.remove(e))),t.addEventListener("wheel",(e=>{t.clientHeight+t.scrollTop+e.deltaY>t.scrollHeight?(t.scrollTop=t.scrollHeight,e.preventDefault()):t.scrollTop+e.deltaY<0&&(t.scrollTop=0,e.preventDefault()),e.stopPropagation()}))}))}constrainDropdownMenuPositions(){document.querySelectorAll("ol.menu > li > ol").forEach((e=>{const t=e.getBoundingClientRect();t.left<0&&(e.style.left=`calc(${getComputedStyle(e).left} - ${t.left}px)`),t.right>document.documentElement.clientWidth&&(e.style.left=`calc(${getComputedStyle(e).left} - ${t.right-document.documentElement.clientWidth}px)`)}))}scrollToCurrentHash(){addEventListener("load",(e=>this.scrollToHash(location.hash)))}overrideHashChange(){addEventListener("hashchange",(e=>this.scrollToHash(location.hash)))}overrideFixedLinks(){document.querySelectorAll(".fixedlinks a").forEach((e=>{e.addEventListener("click",(t=>{this.scrollToHash(e.hash),t.preventDefault()}))}))}scrollToHash(e){const t="highlight";if(document.querySelectorAll(".ranking [id]").forEach((e=>e.classList.remove(t))),!e)return;const n=document.querySelector("ol.menu").getBoundingClientRect().height,i=this.resolveHashTarget(e);if(i){let e=i.getBoundingClientRect().top-n;const o=document.querySelector(".applist, .ranking");if(o&&o.contains(i)){if(i.classList.add(t),function(e){const t=e.getBoundingClientRect();return t.top>=n&&t.left>=0&&t.bottom<=innerHeight&&t.right<=innerWidth}(i))return;e+=i.getBoundingClientRect().height/2-innerHeight/3}scrollTo(pageXOffset,pageYOffset+Math.ceil(e))}}resolveHashTarget(e){if(e.startsWith("#app/")){let[,t,n]=e.split("/",3),i=document.querySelector(`.applist a[href$="/${t}"], .ranking a[href$="/${t}"]`);return i?i.closest("[id]"):void console.error(`Couldn't find game on this ranking: "${decodeURIComponent(n)}".`)}return document.getElementById(e.substr(1))}syncLogInOutState(){const e=document.getElementById("user").classList;e.remove("lin","lout"),e.add(S250.isLoggedIn()?"lin":"lout"),S250.isLoggedIn()&&(this.markOwnedGames(),this.updateUserBar())}markOwnedGames(){const e=JSON.parse(localStorage.getItem("games")),t=document.querySelectorAll(".ranking > div[id] > div:first-of-type > a");let n,i;t.forEach((t=>{const n=t.href.match(/\/app\/(\d+)/)[1];e.hasOwnProperty(n)&&(t.classList.add("owned"),t.setAttribute("data-content",e[n]+" hours"))})),document.querySelector("#user .owned").innerText=t.length?(n=document.querySelectorAll(".ranking .owned").length)+"/"+(i=t.length)+" ("+Math.round(n/i*100)+"%)":"n/a"}unmarkOwnedGames(){document.querySelectorAll(".ranking a.owned").forEach((e=>{e.classList.remove("owned")}))}updateUserBar(){const e=JSON.parse(localStorage.getItem("steam")),t=document.querySelector("#lin .avatar");t.href=`http://steamcommunity.com/profiles/${e.id}/`,t.title=e.name;const n=document.createElement("img");n.src=e.avatar,t.appendChild(n)}static isLoggedIn(){return localStorage.hasOwnProperty("steam")&&localStorage.hasOwnProperty("games")}logout(){localStorage.removeItem("steam"),localStorage.removeItem("games"),this.unmarkOwnedGames(),this.syncLogInOutState()}tryParseOpenIdPostback(){const e=this.parseParam("openid.claimed_id");if(!e)return;const t=e.replace(/.*\//,"");fetch(`https://cors.bridged.cc/https://steamcommunity.com/profiles/${t}/games/?tab=all`).then((e=>e.text())).then((e=>{const n=e.match(/var rgGames = ([^\n]+);/);if(!n||2!==n.length)return void alert("Unable to load your profile. This is usually because your Steam profile is not public.\nTry setting your Steam Community profile visibility to public, then refresh this page to try again.");const i=JSON.parse(n[1]).reduce(((e,t)=>(e[t.appid]=t.hours_forever||0,e)),{});if(!Object.keys(i).length)return void alert("No games found in your account! This is usually because your game details are not public.\nTry setting your game details to public on your Steam Community privacy settings page, then refresh this page to try again.");localStorage.setItem("games",JSON.stringify(i));const o=(new DOMParser).parseFromString(e,"text/html");localStorage.setItem("steam",JSON.stringify({id:t,name:o.querySelector(".profile_small_header_name").innerText.trim(),avatar:o.querySelector(".playerAvatar > img").src.replace("_medium","")})),location.replace(location.pathname)}))}initSearchValue(){const e=this.parseParam("q");null!==e&&document.querySelectorAll("input[name=q]").forEach((t=>t.value=e.replace(/\+/g," ")))}initAppLinkMenu(){const e=document.getElementById("linkmenu"),t="show";let n;document.querySelectorAll(".ranking .links").forEach((i=>{i.addEventListener("click",(o=>{e.style.top=i.offsetTop+i.offsetHeight+5+"px",e.style.left=i.offsetLeft+"px",e.querySelector("a:first-of-type > span").innerHTML=i.closest("[id]").id,e.classList.toggle(t,n!==i||void 0),i.classList.toggle(t,e.classList.contains(t)),n=i,o.preventDefault()})),i.addEventListener("blur",(n=>{e.classList.remove(t),i.classList.remove(t)}))})),document.querySelectorAll("#linkmenu a").forEach((e=>{e.addEventListener("click",(t=>{if(e.classList.contains("cp")&&(e.classList.contains("rank")&&this.copyToClipboard(n.href),e.classList.contains("app"))){const e=this.findSteamAppId(n.closest("[id]")),t=encodeURIComponent(this.findSteamAppName(n.closest("div")));this.copyToClipboard(`${location.origin}${location.pathname}#app/${e}/${t}`)}}))}))}initRankingHoverItems(){document.querySelectorAll(".compact.ranking li > .title").forEach((e=>{const t=e.appendChild(e.cloneNode(!0));t.style.pointerEvents="none",e.addEventListener("mouseenter",(e=>{t.classList.remove("animate"),t.offsetWidth,t.classList.add("animate")})),e.addEventListener("animationend",(e=>{t.classList.remove("animate")}))}))}parseParam(e){const t=RegExp("[?&]"+e+"=([^&]*)").exec(location.search);return t&&decodeURIComponent(t[1])}findSteamAppId(e){const t=e.querySelector("img[src]");if(t)return t.src.match(/\/(\d+)\//)[1]}findSteamAppName(e){return e.querySelector(".title > a").innerText}copyToClipboard(e){if(window.clipboardData&&window.clipboardData.setData)return clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){const t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(e){return console.debug("Failed to copy clipboard data."),!1}finally{document.body.removeChild(t)}}}}new S250,window.S250=S250},804:()=>{new class{constructor(){this.initDom(),this.initVideo(),this.initVideoLinks(),this.initKeyboard(),this.initFooterScroll()}initDom(){this.container=document.body.appendChild(document.createElement("div")),this.frame=this.container.appendChild(document.createElement("div")),this.header=this.frame.appendChild(document.createElement("header")),this.video=this.frame.appendChild(document.createElement("video")),this.footer=this.frame.appendChild(document.createElement("footer")),this.page=document.querySelector("#page"),this.container.id="video-container",this.container.addEventListener("click",(e=>e.target===this.container&&this.deactivate()))}initVideo(){this.video.controls=this.video.autoplay=!0;const e=this.loadVolumeState();this.video.volume=e.volume,this.video.muted=e.muted,this.video.addEventListener("volumechange",(e=>this.saveVolumeState())),this.video.addEventListener("loadedmetadata",(e=>{this.video.removeAttribute("width"),this.video.removeAttribute("height"),this.frame.style.maxWidth=this.video.videoWidth+"px"}))}initVideoLinks(){document.querySelectorAll("[data-video]").forEach((e=>e.addEventListener("click",(t=>{"A"===t.target.tagName&&t.target!==e||(this.loadThumbs(e.getAttribute("data-video").split(",")),this.header.innerHTML=e.getAttribute("data-title"),"href"in e&&(this.header.innerHTML=`<a href="${e.href}">${this.header.innerHTML}</a>`),this.footer.firstChild.click(),t.stopPropagation(),t.preventDefault())}))))}initKeyboard(){document.addEventListener("keydown",(e=>"Escape"===e.key&&this.deactivate()))}initFooterScroll(){this.footer.addEventListener("mousemove",(e=>{const t=this.footer.getBoundingClientRect();this.footer.scroll({left:(this.footer.scrollWidth-t.width)*((e.clientX-t.x)/t.width*1.2-.1),behavior:"undefined"!=typeof InstallTrigger?"smooth":"auto"})}))}loadThumbs(e){for(;this.footer.lastChild;)this.footer.removeChild(this.footer.lastChild);for(let t=0;t<e.length;++t){const n=this.footer.appendChild(document.createElement("div"));n.setAttribute("data-index",t+1);const i=n.appendChild(document.createElement("img"));i.src=`https://cdn.cloudflare.steamstatic.com/steam/apps/${e[t]}/movie.184x123.jpg`,n.addEventListener("click",(o=>{this.play(e[t]),n.parentNode.querySelectorAll("img").forEach((e=>e.classList.remove("active"))),i.classList.add("active"),this.header.setAttribute("data-video-id",t+1),this.header.setAttribute("data-videos",e.length)}))}}loadVolumeState(){return localStorage.hasOwnProperty("video.volume")?JSON.parse(localStorage.getItem("video.volume")):{volume:.5,muted:!1}}saveVolumeState(){localStorage.setItem("video.volume",JSON.stringify({volume:this.video.volume,muted:this.video.muted}))}activate(){this.container.classList.add("active"),this.page.classList.add("video")}deactivate(){this.video.pause(),this.container.classList.remove("active"),this.page.classList.remove("video")}play(e){for(this.video.width=this.video.clientWidth,this.video.height=this.video.clientHeight;this.video.lastChild;)this.video.removeChild(this.video.lastChild);const t=this.video.appendChild(document.createElement("source"));t.src=`https://steamcdn-a.akamaihd.net/steam/apps/${e}/movie480.webm`,t.type="video/webm";const n=this.video.appendChild(document.createElement("source"));n.src=`https://steamcdn-a.akamaihd.net/steam/apps/${e}/movie480.mp4`,n.type="video/mp4",this.activate(),this.video.load()}}},21:()=>{},984:()=>{},173:()=>{},791:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});new(i(n(108)).default)},108:function(e){e.exports=function(){"use strict";function e(){return(e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var t="undefined"!=typeof window,n=t&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),i=t&&"IntersectionObserver"in window,o=t&&"classList"in document.createElement("p"),a=t&&window.devicePixelRatio>1,r={elements_selector:".lazy",container:n||t?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1},s=function(t){return e({},r,t)},l=function(e,t){var n,i="LazyLoad::Initialized",o=new e(t);try{n=new CustomEvent(i,{detail:{instance:o}})}catch(e){(n=document.createEvent("CustomEvent")).initCustomEvent(i,!1,!1,{instance:o})}window.dispatchEvent(n)},c="loading",d="loaded",u="applied",h="error",m="native",f="data-",p="ll-status",g=function(e,t){return e.getAttribute(f+t)},v=function(e){return g(e,p)},y=function(e,t){return function(e,t,n){var i="data-ll-status";null!==n?e.setAttribute(i,n):e.removeAttribute(i)}(e,0,t)},b=function(e){return y(e,null)},_=function(e){return null===v(e)},E=function(e){return v(e)===m},L=[c,d,u,h],S=function(e,t,n,i){e&&(void 0===i?void 0===n?e(t):e(t,n):e(t,n,i))},k=function(e,t){o?e.classList.add(t):e.className+=(e.className?" ":"")+t},C=function(e,t){o?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},w=function(e){return e.llTempImage},A=function(e,t){if(t){var n=t._observer;n&&n.unobserve(e)}},I=function(e,t){e&&(e.loadingCount+=t)},x=function(e,t){e&&(e.toLoadCount=t)},O=function(e){for(var t,n=[],i=0;t=e.children[i];i+=1)"SOURCE"===t.tagName&&n.push(t);return n},T=function(e,t,n){n&&e.setAttribute(t,n)},q=function(e,t){e.removeAttribute(t)},H=function(e){return!!e.llOriginalAttrs},M=function(e){if(!H(e)){var t={};t.src=e.getAttribute("src"),t.srcset=e.getAttribute("srcset"),t.sizes=e.getAttribute("sizes"),e.llOriginalAttrs=t}},N=function(e){if(H(e)){var t=e.llOriginalAttrs;T(e,"src",t.src),T(e,"srcset",t.srcset),T(e,"sizes",t.sizes)}},$=function(e,t){T(e,"sizes",g(e,t.data_sizes)),T(e,"srcset",g(e,t.data_srcset)),T(e,"src",g(e,t.data_src))},P=function(e){q(e,"src"),q(e,"srcset"),q(e,"sizes")},R=function(e,t){var n=e.parentNode;n&&"PICTURE"===n.tagName&&O(n).forEach(t)},D={IMG:function(e,t){R(e,(function(e){M(e),$(e,t)})),M(e),$(e,t)},IFRAME:function(e,t){T(e,"src",g(e,t.data_src))},VIDEO:function(e,t){!function(e,n){O(e).forEach((function(e){T(e,"src",g(e,t.data_src))}))}(e),T(e,"poster",g(e,t.data_poster)),T(e,"src",g(e,t.data_src)),e.load()}},z=function(e,t){var n=D[e.tagName];n&&n(e,t)},V=function(e,t,n){I(n,1),k(e,t.class_loading),y(e,c),S(t.callback_loading,e,n)},B=["IMG","IFRAME","VIDEO"],G=function(e,t){!t||function(e){return e.loadingCount>0}(t)||function(e){return e.toLoadCount>0}(t)||S(e.callback_finish,t)},F=function(e,t,n){e.addEventListener(t,n),e.llEvLisnrs[t]=n},W=function(e,t,n){e.removeEventListener(t,n)},U=function(e){return!!e.llEvLisnrs},J=function(e){if(U(e)){var t=e.llEvLisnrs;for(var n in t){var i=t[n];W(e,n,i)}delete e.llEvLisnrs}},j=function(e,t,n){!function(e){delete e.llTempImage}(e),I(n,-1),function(e){e&&(e.toLoadCount-=1)}(n),C(e,t.class_loading),t.unobserve_completed&&A(e,n)},Y=function(e,t,n){var i=w(e)||e;U(i)||function(e,t,n){U(e)||(e.llEvLisnrs={});var i="VIDEO"===e.tagName?"loadeddata":"load";F(e,i,t),F(e,"error",n)}(i,(function(o){!function(e,t,n,i){var o=E(t);j(t,n,i),k(t,n.class_loaded),y(t,d),S(n.callback_loaded,t,i),o||G(n,i)}(0,e,t,n),J(i)}),(function(o){!function(e,t,n,i){var o=E(t);j(t,n,i),k(t,n.class_error),y(t,h),S(n.callback_error,t,i),o||G(n,i)}(0,e,t,n),J(i)}))},K=function(e,t,n){!function(e){e.llTempImage=document.createElement("IMG")}(e),Y(e,t,n),function(e,t,n){var i=g(e,t.data_bg),o=g(e,t.data_bg_hidpi),r=a&&o?o:i;r&&(e.style.backgroundImage='url("'.concat(r,'")'),w(e).setAttribute("src",r),V(e,t,n))}(e,t,n),function(e,t,n){var i=g(e,t.data_bg_multi),o=g(e,t.data_bg_multi_hidpi),r=a&&o?o:i;r&&(e.style.backgroundImage=r,function(e,t,n){k(e,t.class_applied),y(e,u),t.unobserve_completed&&A(e,t),S(t.callback_applied,e,n)}(e,t,n))}(e,t,n)},X=function(e,t,n){!function(e){return B.indexOf(e.tagName)>-1}(e)?K(e,t,n):function(e,t,n){Y(e,t,n),z(e,t),V(e,t,n)}(e,t,n)},Q=["IMG","IFRAME"],Z=function(e){return e.use_native&&"loading"in HTMLImageElement.prototype},ee=function(e,t,n){e.forEach((function(e){return function(e){return e.isIntersecting||e.intersectionRatio>0}(e)?function(e,t,n,i){y(e,"entered"),k(e,n.class_entered),C(e,n.class_exited),function(e,t,n){t.unobserve_entered&&A(e,n)}(e,n,i),S(n.callback_enter,e,t,i),function(e){return L.indexOf(v(e))>=0}(e)||X(e,n,i)}(e.target,e,t,n):function(e,t,n,i){_(e)||(k(e,n.class_exited),function(e,t,n,i){n.cancel_on_exit&&function(e){return v(e)===c}(e)&&"IMG"===e.tagName&&(J(e),function(e){R(e,(function(e){P(e)})),P(e)}(e),function(e){R(e,(function(e){N(e)})),N(e)}(e),C(e,n.class_loading),I(i,-1),b(e),S(n.callback_cancel,e,t,i))}(e,t,n,i),S(n.callback_exit,e,t,i))}(e.target,e,t,n)}))},te=function(e){return Array.prototype.slice.call(e)},ne=function(e){return e.container.querySelectorAll(e.elements_selector)},ie=function(e){return function(e){return v(e)===h}(e)},oe=function(e,t){return function(e){return te(e).filter(_)}(e||ne(t))},ae=function(e,n){var o=s(e);this._settings=o,this.loadingCount=0,function(e,t){i&&!Z(e)&&(t._observer=new IntersectionObserver((function(n){ee(n,e,t)}),function(e){return{root:e.container===document?null:e.container,rootMargin:e.thresholds||e.threshold+"px"}}(e)))}(o,this),function(e,n){t&&window.addEventListener("online",(function(){!function(e,t){var n;(n=ne(e),te(n).filter(ie)).forEach((function(t){C(t,e.class_error),b(t)})),t.update()}(e,n)}))}(o,this),this.update(n)};return ae.prototype={update:function(e){var t,o,a=this._settings,r=oe(e,a);x(this,r.length),!n&&i?Z(a)?function(e,t,n){e.forEach((function(e){-1!==Q.indexOf(e.tagName)&&(e.setAttribute("loading","lazy"),function(e,t,n){Y(e,t,n),z(e,t),y(e,m)}(e,t,n))})),x(n,0)}(r,a,this):(o=r,function(e){e.disconnect()}(t=this._observer),function(e,t){t.forEach((function(t){e.observe(t)}))}(t,o)):this.loadAll(r)},destroy:function(){this._observer&&this._observer.disconnect(),ne(this._settings).forEach((function(e){delete e.llOriginalAttrs})),delete this._observer,delete this._settings,delete this.loadingCount,delete this.toLoadCount},loadAll:function(e){var t=this,n=this._settings;oe(e,n).forEach((function(e){A(e,t),X(e,n,t)}))}},ae.load=function(e,t){var n=s(t);X(e,n)},ae.resetStatus=function(e){b(e)},t&&function(e,t){if(t)if(t.length)for(var n,i=0;n=t[i];i+=1)l(e,n);else l(e,t)}(ae,window.lazyLoadOptions),ae}()}},t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n(351),n(804),n(791),n(173),n(21);n(984)})();