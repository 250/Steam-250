(()=>{var e={804:()=>{new class{constructor(){!1!==this.initDom()&&(this.initVideo(),this.initVideoLinks(),this.initKeyboard(),this.initFooterScroll())}initDom(){if(!document.body)return console.debug("Video player aborted: body not ready."),!1;this.container=document.body.appendChild(document.createElement("div")),this.frame=this.container.appendChild(document.createElement("div")),this.header=this.frame.appendChild(document.createElement("header")),this.video=this.frame.appendChild(document.createElement("video")),this.footer=this.frame.appendChild(document.createElement("footer")),this.page=document.querySelector("#page"),this.container.id="video-container",this.container.addEventListener("click",(e=>e.target===this.container&&this.deactivate()))}initVideo(){this.video.controls=this.video.autoplay=!0;const e=this.loadVolumeState();this.video.volume=e.volume,this.video.muted=e.muted,this.video.addEventListener("volumechange",(e=>this.saveVolumeState())),this.video.addEventListener("loadedmetadata",(e=>{this.video.removeAttribute("width"),this.video.removeAttribute("height"),this.frame.style.maxWidth=this.video.videoWidth+"px"}))}initVideoLinks(){document.querySelectorAll("[data-video]").forEach((e=>e.addEventListener("click",(t=>{"A"===t.target.tagName&&t.target!==e||(this.loadThumbs(e.getAttribute("data-video").split(",")),this.header.innerHTML=e.getAttribute("data-title"),"href"in e&&(this.header.innerHTML=`<a href="${e.href}">${this.header.innerHTML}</a>`),this.footer.firstChild.click(),t.stopPropagation(),t.preventDefault())}))))}initKeyboard(){document.addEventListener("keydown",(e=>"Escape"===e.key&&this.deactivate()))}initFooterScroll(){this.footer.addEventListener("mousemove",(e=>{const t=this.footer.getBoundingClientRect();this.footer.scroll({left:(this.footer.scrollWidth-t.width)*((e.clientX-t.x)/t.width*1.2-.1),behavior:"undefined"!=typeof InstallTrigger?"smooth":"auto"})}))}loadThumbs(e){for(;this.footer.lastChild;)this.footer.removeChild(this.footer.lastChild);for(let t=0;t<e.length;++t){const n=this.footer.appendChild(document.createElement("div"));n.setAttribute("data-index",t+1);const o=n.appendChild(document.createElement("img"));o.src=`https://cdn.cloudflare.steamstatic.com/steam/apps/${e[t]}/movie.184x123.jpg`,n.addEventListener("click",(i=>{this.play(e[t]),n.parentNode.querySelectorAll("img").forEach((e=>e.classList.remove("active"))),o.classList.add("active"),this.header.setAttribute("data-video-id",t+1),this.header.setAttribute("data-videos",e.length)}))}}loadVolumeState(){return localStorage.hasOwnProperty("video.volume")?JSON.parse(localStorage.getItem("video.volume")):{volume:.5,muted:!1}}saveVolumeState(){localStorage.setItem("video.volume",JSON.stringify({volume:this.video.volume,muted:this.video.muted}))}activate(){this.container.classList.add("active"),this.page.classList.add("video")}deactivate(){this.video.pause(),this.container.classList.remove("active"),this.page.classList.remove("video")}play(e){for(this.video.width=this.video.clientWidth,this.video.height=this.video.clientHeight;this.video.lastChild;)this.video.removeChild(this.video.lastChild);const t=this.video.appendChild(document.createElement("source"));t.src=`https://steamcdn-a.akamaihd.net/steam/apps/${e}/movie480.webm`,t.type="video/webm";const n=this.video.appendChild(document.createElement("source"));n.src=`https://steamcdn-a.akamaihd.net/steam/apps/${e}/movie480.mp4`,n.type="video/mp4",this.activate(),this.video.load()}}},927:()=>{},984:()=>{},901:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(772),a=o(n(181)),r=o(n(342));class s{constructor(){this.initMenuScrollbarTransitions(),this.constrainDropdownMenuPositions(),r.default.initTristateCheckboxes(),s.initChevrons(),this.initLogInOut(),a.default.syncLoginUi(),s.tryRemoveAds(),this.scrollToCurrentHash(),this.overrideHashChange(),this.overrideFixedLinks(),this.initSearchValue(),this.initAppLinkMenu(),this.initRankingHoverItems()}initLogInOut(){const e=document.querySelector("#lout form");e?(e["openid.realm"].value="https://club.steam250.com",e["openid.return_to"].value=`https://club.steam250.com/steam/login?r=${location.origin+location.pathname}`,document.querySelector("#lout button").addEventListener("click",(e=>localStorage.setItem("login","sync"))),document.querySelector("#lin button").addEventListener("click",(e=>a.default.logout())),"sync"===localStorage.getItem("login")&&(localStorage.removeItem("login"),a.default.syncLogin())):console.debug("Steam user area unavailable: skipped.")}initMenuScrollbarTransitions(){const e="t11g";document.querySelectorAll("ol.menu li").forEach((t=>{const n=t.querySelector("ol");n&&(t.addEventListener("mouseenter",(t=>0===n.clientHeight&&n.classList.add(e))),t.addEventListener("mouseleave",(t=>n.classList.add(e))))})),document.querySelectorAll("ol.menu > li ol").forEach((t=>{t.addEventListener("transitionend",(n=>t.classList.remove(e))),t.addEventListener("wheel",(e=>{t.clientHeight+t.scrollTop+e.deltaY>t.scrollHeight?(t.scrollTop=t.scrollHeight,e.preventDefault()):t.scrollTop+e.deltaY<0&&(t.scrollTop=0,e.preventDefault()),e.stopPropagation()}))}))}constrainDropdownMenuPositions(){document.querySelectorAll("ol.menu > li > ol").forEach((e=>{const t=e.getBoundingClientRect();t.left<0&&(e.style.left=`calc(${getComputedStyle(e).left} - ${t.left}px)`),t.right>document.documentElement.clientWidth&&(e.style.left=`calc(${getComputedStyle(e).left} - ${t.right-document.documentElement.clientWidth}px)`)}))}scrollToCurrentHash(){addEventListener("load",(e=>this.scrollToHash(location.hash)))}overrideHashChange(){addEventListener("hashchange",(e=>this.scrollToHash(location.hash)))}overrideFixedLinks(){document.querySelectorAll(".fixedlinks a").forEach((e=>{e.addEventListener("click",(t=>{this.scrollToHash(e.hash),t.preventDefault()}))}))}scrollToHash(e){const t="highlight";if(document.querySelectorAll(".ranking [id]").forEach((e=>e.classList.remove(t))),!e)return;const n=document.querySelector("ol.menu").getBoundingClientRect().height,o=this.resolveHashTarget(e);if(o){let e=o.getBoundingClientRect().top-n;const i=document.querySelector(".applist, .main.ranking");if(i&&i.contains(o)){if(o.classList.add(t),function(e){const t=e.getBoundingClientRect();return t.top>=n&&t.left>=0&&t.bottom<=innerHeight&&t.right<=innerWidth}(o))return;e+=o.getBoundingClientRect().height/2-innerHeight/3}scrollTo(scrollX,scrollY+Math.ceil(e))}}resolveHashTarget(e){if(e.startsWith("#app/")){let[,t,n]=e.split("/",3),o=document.querySelector(`.applist a[href$="/${t}"], .ranking a[href$="/${t}"]`);return o?o.closest("[id]"):void console.error(`Couldn't find game on this ranking: "${decodeURIComponent(n)}".`)}return document.getElementById(e.substring(1))}static isLoggedIn(){return a.default.isLoggedIn()}static syncLogin(){return a.default.syncLogin()}static syncLogout(){return a.default.syncLogout()}static syncGames(){a.default.syncGames()}static showAds(){const e=localStorage.getItem("user");if(e){const t=JSON.parse(e);return!(t.hasOwnProperty("noads")&&t.noads)}return!0}static tryRemoveAds(){s.showAds()||document.querySelectorAll("ins").forEach((e=>e.remove()))}initSearchValue(){const e=(0,i.parseParam)("q");null!==e&&document.querySelectorAll("input[name=q]").forEach((t=>t.value=e.replace(/\+/g," ")))}initAppLinkMenu(){const e=document.getElementById("linkmenu"),t="show";let n;document.querySelectorAll(".ranking .links").forEach((o=>{o.addEventListener("click",(i=>{e.style.top=o.offsetTop+o.offsetHeight+5+"px",e.style.left=o.offsetLeft+"px",e.querySelector("a:first-of-type > span").innerHTML=o.closest("[id]").id,e.classList.toggle(t,n!==o||void 0),o.classList.toggle(t,e.classList.contains(t)),n=o,i.preventDefault()})),o.addEventListener("blur",(n=>{e.classList.remove(t),o.classList.remove(t)}))})),document.querySelectorAll("#linkmenu a").forEach((e=>{e.addEventListener("click",(t=>{if(e.classList.contains("cp")&&(e.classList.contains("rank")&&this.copyToClipboard(n.href),e.classList.contains("app"))){const e=this.findSteamAppId(n.closest("[id]")),t=encodeURIComponent(this.findSteamAppName(n.closest("div")));this.copyToClipboard(`${location.origin}${location.pathname}#app/${e}/${t}`)}}))}))}initRankingHoverItems(){document.querySelectorAll(".compact.ranking li > .title").forEach((e=>{const t=e.appendChild(e.cloneNode(!0));t.style.pointerEvents="none",e.addEventListener("mouseenter",(e=>{t.classList.remove("animate"),t.offsetWidth,t.classList.add("animate")})),e.addEventListener("animationend",(e=>{t.classList.remove("animate")}))}))}static initChevrons(){document.querySelectorAll(".more-button > span:last-of-type").forEach((e=>{e.parentNode.appendChild(e.cloneNode()),e.parentNode.appendChild(e.cloneNode())}))}findSteamAppId(e){const t=e.querySelector("img[src]");if(t)return t.src.match(/\/(\d+)\//)[1]}findSteamAppName(e){return e.querySelector(".title > a").innerText}copyToClipboard(e){document.queryCommandSupported&&document.queryCommandSupported("copy")||alert("Clipboard is not supported in this browser!");const t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(e){return alert("Failed to copy clipboard data."),!1}finally{document.body.removeChild(t)}}}new s,window.S250=s},342:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Middle=0]="Middle",e[e.Right=1]="Right",e[e.Left=2]="Left"}(n||(n={}));t.default=class{static initTristateCheckboxes(){document.querySelectorAll("div.tri").forEach((e=>{var t,o;const i=[...e.querySelectorAll("input")],a=i[0],r=a.parentNode.querySelector("span"),s=parseFloat(getComputedStyle(r,":before").width)/3,c=2*s,l=a.go2=e=>{d=e,i.filter((t=>t.value===e.toString()))[0].checked=!0,a.parentElement.dataset.state=e.toString()};let d=+(null!==(o=null===(t=i.filter((e=>e.checked))[0])||void 0===t?void 0:t.value)&&void 0!==o?o:0);l(d),a.addEventListener("click",(e=>{const t=e.clientX-r.getBoundingClientRect().x;t>=s&&t<=c?l(n.Middle):d===n.Middle?l(t>c?n.Right:n.Left):d===n.Left?l(t<s?n.Middle:n.Right):l(t>c?n.Middle:n.Left)}))}))}}},791:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});new(o(n(108)).default)},772:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseParam=void 0,t.parseParam=function(e){const t=RegExp("[?&]"+e+"=([^&]*)").exec(location.search);return t&&decodeURIComponent(t[1])}},181:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});t.default=class{static isLoggedIn(){return localStorage.hasOwnProperty("user")}static logout(){document.body.insertAdjacentHTML("beforeend",`\n            <form method="post" action="https://club.steam250.com/logout" name="logout">\n                <input type="hidden" name="r" value="${location.origin+location.pathname}">\n            </form>\n        `),this.syncLogout(),document.forms.namedItem("logout").submit()}static syncLogin(){return n(this,void 0,void 0,(function*(){const e=yield fetch("https://club.steam250.com/api/whoami",{credentials:"include"}),t=yield e.text();if(!e.ok)return console.error("Login sync failed:",e.status,e.statusText,t);const[n,o,i,a]=t.split("\0",4);localStorage.setItem("user",JSON.stringify({id:n,name:o.substring(40),avatar:o.substring(0,40),noads:"1"===i,tier:+a})),this.postClub250Message("login synced"),S250.tryRemoveAds(),this.syncLoginUi(),this.syncGames()}))}static syncLogout(){localStorage.removeItem("user"),this.postClub250Message("logout synced")}static syncGames(){this.postClub250Message("games"),addEventListener("message",(e=>{"https://club.steam250.com"===e.origin&&(console.debug("C250:",e.data),"games"===e.data.message&&(localStorage.setItem("games",e.data.games),localStorage.setItem("games.date",e.data.modified)))})),localStorage.getItem("games.date")||localStorage.removeItem("games")}static syncLoginUi(){const e=document.getElementById("user");if(!e)return;const t=e.classList;t.remove("lin","lout"),t.add(this.isLoggedIn()?"lin":"lout"),this.isLoggedIn()&&(this.updateUserBar(),this.hideObsoleteTiers())}static hideObsoleteTiers(){const e=localStorage.getItem("user");if(!e)return;const t=JSON.parse(e);t.tier&&document.querySelectorAll("ol.menu .micro.tier, #body .micro.tier").forEach((e=>{const n=+[...e.classList].filter((e=>/^t\d$/.test(e)))[0].substring(1);t.tier>=n&&e.remove()}))}static updateUserBar(){const e=localStorage.getItem("user");if(!e)return;const t=JSON.parse(e),n=document.querySelector("#lin .avatar");if(!n)return;n.href="https://club.steam250.com/me";const o=n.appendChild(document.createElement("img"));o.alt=o.title=t.name,o.src=`https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/avatars/${t.avatar.substring(0,2)}/${t.avatar}.jpg'`,this.markOwnedGames()}static markOwnedGames(){const e=localStorage.getItem("games"),t=document.querySelector("#user .owned");if(!e||!t)return;const n=JSON.parse(e),o=document.querySelectorAll(".main.ranking > div[id] > div:first-of-type > a");o.forEach((e=>{const t=e.href.match(/\/app\/(\d+)/)[1];n.hasOwnProperty(t)&&(e.classList.add("owned"),e.setAttribute("data-content",this.formatTimePlayed(n[t])))}));const i=o.length;if(i){const e=document.querySelectorAll(".main.ranking .owned").length;t.innerText=`${e}/${i} (${Math.round(e/i*100)}%)`}else t.closest("dl").remove()}static formatTimePlayed(e){return e<60?e+" minute"+(1!==e?"s":""):(e/60).toFixed(1)+" hour"+(60!==e?"s":"")}static postClub250Message(e){parent!==window&&parent.postMessage(e,"https://club.steam250.com")}}},108:function(e){e.exports=function(){"use strict";function e(){return e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},e.apply(this,arguments)}var t="undefined"!=typeof window,n=t&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),o=t&&"IntersectionObserver"in window,i=t&&"classList"in document.createElement("p"),a=t&&window.devicePixelRatio>1,r={elements_selector:".lazy",container:n||t?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_bg_set:"bg-set",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1,restore_on_error:!1},s=function(t){return e({},r,t)},c=function(e,t){var n,o="LazyLoad::Initialized",i=new e(t);try{n=new CustomEvent(o,{detail:{instance:i}})}catch(e){(n=document.createEvent("CustomEvent")).initCustomEvent(o,!1,!1,{instance:i})}window.dispatchEvent(n)},l="src",d="srcset",u="sizes",m="poster",h="llOriginalAttrs",f="data",g="loading",p="loaded",v="applied",y="error",b="native",_="data-",L="ll-status",E=function(e,t){return e.getAttribute(_+t)},S=function(e){return E(e,L)},C=function(e,t){return function(e,t,n){var o="data-ll-status";null!==n?e.setAttribute(o,n):e.removeAttribute(o)}(e,0,t)},k=function(e){return C(e,null)},I=function(e){return null===S(e)},A=function(e){return S(e)===b},w=[g,p,v,y],x=function(e,t,n,o){e&&(void 0===o?void 0===n?e(t):e(t,n):e(t,n,o))},T=function(e,t){i?e.classList.add(t):e.className+=(e.className?" ":"")+t},M=function(e,t){i?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},O=function(e){return e.llTempImage},q=function(e,t){if(t){var n=t._observer;n&&n.unobserve(e)}},N=function(e,t){e&&(e.loadingCount+=t)},H=function(e,t){e&&(e.toLoadCount=t)},R=function(e){for(var t,n=[],o=0;t=e.children[o];o+=1)"SOURCE"===t.tagName&&n.push(t);return n},$=function(e,t){var n=e.parentNode;n&&"PICTURE"===n.tagName&&R(n).forEach(t)},P=function(e,t){R(e).forEach(t)},D=[l],V=[l,m],B=[l,d,u],j=[f],G=function(e){return!!e[h]},F=function(e){return e[h]},J=function(e){return delete e[h]},U=function(e,t){if(!G(e)){var n={};t.forEach((function(t){n[t]=e.getAttribute(t)})),e[h]=n}},z=function(e,t){if(G(e)){var n=F(e);t.forEach((function(t){!function(e,t,n){n?e.setAttribute(t,n):e.removeAttribute(t)}(e,t,n[t])}))}},W=function(e,t,n){T(e,t.class_applied),C(e,v),n&&(t.unobserve_completed&&q(e,t),x(t.callback_applied,e,n))},X=function(e,t,n){T(e,t.class_loading),C(e,g),n&&(N(n,1),x(t.callback_loading,e,n))},Y=function(e,t,n){n&&e.setAttribute(t,n)},K=function(e,t){Y(e,u,E(e,t.data_sizes)),Y(e,d,E(e,t.data_srcset)),Y(e,l,E(e,t.data_src))},Q={IMG:function(e,t){$(e,(function(e){U(e,B),K(e,t)})),U(e,B),K(e,t)},IFRAME:function(e,t){U(e,D),Y(e,l,E(e,t.data_src))},VIDEO:function(e,t){P(e,(function(e){U(e,D),Y(e,l,E(e,t.data_src))})),U(e,V),Y(e,m,E(e,t.data_poster)),Y(e,l,E(e,t.data_src)),e.load()},OBJECT:function(e,t){U(e,j),Y(e,f,E(e,t.data_src))}},Z=["IMG","IFRAME","VIDEO","OBJECT"],ee=function(e,t){!t||function(e){return e.loadingCount>0}(t)||function(e){return e.toLoadCount>0}(t)||x(e.callback_finish,t)},te=function(e,t,n){e.addEventListener(t,n),e.llEvLisnrs[t]=n},ne=function(e,t,n){e.removeEventListener(t,n)},oe=function(e){return!!e.llEvLisnrs},ie=function(e){if(oe(e)){var t=e.llEvLisnrs;for(var n in t){var o=t[n];ne(e,n,o)}delete e.llEvLisnrs}},ae=function(e,t,n){!function(e){delete e.llTempImage}(e),N(n,-1),function(e){e&&(e.toLoadCount-=1)}(n),M(e,t.class_loading),t.unobserve_completed&&q(e,n)},re=function(e,t,n){var o=O(e)||e;oe(o)||function(e,t,n){oe(e)||(e.llEvLisnrs={});var o="VIDEO"===e.tagName?"loadeddata":"load";te(e,o,t),te(e,"error",n)}(o,(function(i){!function(e,t,n,o){var i=A(t);ae(t,n,o),T(t,n.class_loaded),C(t,p),x(n.callback_loaded,t,o),i||ee(n,o)}(0,e,t,n),ie(o)}),(function(i){!function(e,t,n,o){var i=A(t);ae(t,n,o),T(t,n.class_error),C(t,y),x(n.callback_error,t,o),n.restore_on_error&&z(t,B),i||ee(n,o)}(0,e,t,n),ie(o)}))},se=function(e,t,n){!function(e){return Z.indexOf(e.tagName)>-1}(e)?function(e,t,n){!function(e){e.llTempImage=document.createElement("IMG")}(e),re(e,t,n),function(e){G(e)||(e[h]={backgroundImage:e.style.backgroundImage})}(e),function(e,t,n){var o=E(e,t.data_bg),i=E(e,t.data_bg_hidpi),r=a&&i?i:o;r&&(e.style.backgroundImage='url("'.concat(r,'")'),O(e).setAttribute(l,r),X(e,t,n))}(e,t,n),function(e,t,n){var o=E(e,t.data_bg_multi),i=E(e,t.data_bg_multi_hidpi),r=a&&i?i:o;r&&(e.style.backgroundImage=r,W(e,t,n))}(e,t,n),function(e,t,n){var o=E(e,t.data_bg_set);if(o){var i=o.split("|"),a=i.map((function(e){return"image-set(".concat(e,")")}));e.style.backgroundImage=a.join(),""===e.style.backgroundImage&&(a=i.map((function(e){return"-webkit-image-set(".concat(e,")")})),e.style.backgroundImage=a.join()),W(e,t,n)}}(e,t,n)}(e,t,n):function(e,t,n){re(e,t,n),function(e,t,n){var o=Q[e.tagName];o&&(o(e,t),X(e,t,n))}(e,t,n)}(e,t,n)},ce=function(e){e.removeAttribute(l),e.removeAttribute(d),e.removeAttribute(u)},le=function(e){$(e,(function(e){z(e,B)})),z(e,B)},de={IMG:le,IFRAME:function(e){z(e,D)},VIDEO:function(e){P(e,(function(e){z(e,D)})),z(e,V),e.load()},OBJECT:function(e){z(e,j)}},ue=function(e,t){(function(e){var t=de[e.tagName];t?t(e):function(e){if(G(e)){var t=F(e);e.style.backgroundImage=t.backgroundImage}}(e)})(e),function(e,t){I(e)||A(e)||(M(e,t.class_entered),M(e,t.class_exited),M(e,t.class_applied),M(e,t.class_loading),M(e,t.class_loaded),M(e,t.class_error))}(e,t),k(e),J(e)},me=["IMG","IFRAME","VIDEO"],he=function(e){return e.use_native&&"loading"in HTMLImageElement.prototype},fe=function(e,t,n){e.forEach((function(e){return function(e){return e.isIntersecting||e.intersectionRatio>0}(e)?function(e,t,n,o){var i=function(e){return w.indexOf(S(e))>=0}(e);C(e,"entered"),T(e,n.class_entered),M(e,n.class_exited),function(e,t,n){t.unobserve_entered&&q(e,n)}(e,n,o),x(n.callback_enter,e,t,o),i||se(e,n,o)}(e.target,e,t,n):function(e,t,n,o){I(e)||(T(e,n.class_exited),function(e,t,n,o){n.cancel_on_exit&&function(e){return S(e)===g}(e)&&"IMG"===e.tagName&&(ie(e),function(e){$(e,(function(e){ce(e)})),ce(e)}(e),le(e),M(e,n.class_loading),N(o,-1),k(e),x(n.callback_cancel,e,t,o))}(e,t,n,o),x(n.callback_exit,e,t,o))}(e.target,e,t,n)}))},ge=function(e){return Array.prototype.slice.call(e)},pe=function(e){return e.container.querySelectorAll(e.elements_selector)},ve=function(e){return function(e){return S(e)===y}(e)},ye=function(e,t){return function(e){return ge(e).filter(I)}(e||pe(t))},be=function(e,n){var i=s(e);this._settings=i,this.loadingCount=0,function(e,t){o&&!he(e)&&(t._observer=new IntersectionObserver((function(n){fe(n,e,t)}),function(e){return{root:e.container===document?null:e.container,rootMargin:e.thresholds||e.threshold+"px"}}(e)))}(i,this),function(e,n){t&&(n._onlineHandler=function(){!function(e,t){var n;(n=pe(e),ge(n).filter(ve)).forEach((function(t){M(t,e.class_error),k(t)})),t.update()}(e,n)},window.addEventListener("online",n._onlineHandler))}(i,this),this.update(n)};return be.prototype={update:function(e){var t,i,a=this._settings,r=ye(e,a);H(this,r.length),!n&&o?he(a)?function(e,t,n){e.forEach((function(e){-1!==me.indexOf(e.tagName)&&function(e,t,n){e.setAttribute("loading","lazy"),re(e,t,n),function(e,t){var n=Q[e.tagName];n&&n(e,t)}(e,t),C(e,b)}(e,t,n)})),H(n,0)}(r,a,this):(i=r,function(e){e.disconnect()}(t=this._observer),function(e,t){t.forEach((function(t){e.observe(t)}))}(t,i)):this.loadAll(r)},destroy:function(){this._observer&&this._observer.disconnect(),t&&window.removeEventListener("online",this._onlineHandler),pe(this._settings).forEach((function(e){J(e)})),delete this._observer,delete this._settings,delete this._onlineHandler,delete this.loadingCount,delete this.toLoadCount},loadAll:function(e){var t=this,n=this._settings;ye(e,n).forEach((function(e){q(e,t),se(e,n,t)}))},restoreAll:function(){var e=this._settings;pe(e).forEach((function(t){ue(t,e)}))}},be.load=function(e,t){var n=s(t);se(e,n)},be.resetStatus=function(e){k(e)},t&&function(e,t){if(t)if(t.length)for(var n,o=0;n=t[o];o+=1)c(e,n);else c(e,t)}(be,window.lazyLoadOptions),be}()}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n(901),n(804),n(791),n(927);n(984)})();